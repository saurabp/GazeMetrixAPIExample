"use strict";angular.module("GazeMetrixAPIExampleApp",["ngResource","ngRoute","iso.directives","googlechart"]).config(["$routeProvider","$httpProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/api/mentions",{templateUrl:"views/mentions.html",controller:"MentionsCtrl"}).when("/api/top_locations",{templateUrl:"views/locations.html",controller:"LocationCtrl"}).when("/api/top_words",{templateUrl:"views/top_words.html",controller:"TopWordsCtrl"}).otherwise({redirectTo:"/"}),delete b.defaults.headers.common["X-Requested-With"],b.defaults.headers.post.api_key="77dcd329c367c02de366705eb0b968b3"}]),angular.module("GazeMetrixAPIExampleApp").factory("GazeMetrixAPI",["$resource","$location",function(a,b){var c="77dcd329c367c02de366705eb0b968b3",d="instagram",e="2013-09-25";return{getApiKey:function(){return c},setApiKey:function(a){c=a,b.path("/")},getSource:function(){return d},setSource:function(a){a=a},getDate:function(){return e},setDate:function(a){a=a},MentionsService:function(){return a("https://api.gazemetrix.com/v1/mentions",{},{get:{method:"JSONP",params:{v:"1.0",callback:"JSON_CALLBACK",verified:"true",api_key:this.getApiKey()}}})},TopWordsService:function(){return a("https://api.gazemetrix.com/v1/top_words",{},{get:{method:"GET",params:{v:"1.0",callback:"JSON_CALLBACK",api_key:this.getApiKey(),source:this.getSource(),verified:!0,start_date:this.getDate()}}})},TopLocationsService:function(){return a("https://api.gazemetrix.com/v1/top_locations",{},{get:{method:"GET",params:{v:"1.0",callback:"JSON_CALLBACK",api_key:this.getApiKey(),source:this.getSource(),verified:!0,date:this.getDate()}}})}}}]),angular.module("GazeMetrixAPIExampleApp").controller("BrandCtrl",["$scope","GazeMetrixAPI",function(a,b){a.api_key=b.getApiKey(),a.change=function(){b.setApiKey(a.api_key)}}]),angular.module("GazeMetrixAPIExampleApp").controller("APIListCtrl",["$scope",function(a){a.apis=[{id:"mentions",title:"Mentions API"},{id:"top_locations",title:"Locations API"},{id:"top_words",title:"Top Words API"}]}]),angular.module("GazeMetrixAPIExampleApp").controller("MentionsCtrl",["$scope","GazeMetrixAPI",function(a,b){var c=b.MentionsService().get();a.mentions=c}]),angular.module("GazeMetrixAPIExampleApp").controller("LocationCtrl",["$scope","GazeMetrixAPI",function(a,b){var c={};c.type="GeoChart",c.displayed=!1,c.cssStyle="height:600px; width:90%;margin-left:5%;margin-top:2%",a.datageo=b.TopLocationsService().get(),a.$watch("datageo.data.countries",function(a){if(void 0!=a){for(var b=[],d=0;d<a.length;d++)b.push([a[d].name,a[d].count]);c.data=b,c.options={region:"world",resolution:"country"}}}),a.chart=c}]),angular.module("GazeMetrixAPIExampleApp").controller("TopWordsCtrl",["$scope","GazeMetrixAPI",function(a,b){a.words=b.TopWordsService().get()}]),angular.module("GazeMetrixAPIExampleApp").controller("MainCtrl",["$scope",function(){}]),angular.module("GazeMetrixAPIExampleApp").directive("tagcloud",function(){return{restrict:"A",link:function(a,b,c){a.$watch(c.words,function(a){void 0!=a&&$(b).jQCloud(a)})}}});